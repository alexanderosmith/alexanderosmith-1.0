YUI.add("hermes-template-global-nav",function(t,a){var l=t.Template.Handlebars.revive({1:function(t,a,l,e,n){return"gn-signed-in"},3:function(t,a,l,e,n){return"gn-signed-out"},5:function(t,a,l,e,n){return" top-banner"},7:function(t,a,l,e,n){return"\t\t"+t.escapeExpression((l.outlet||a&&a.outlet||l.helperMissing).call(null!=a?a:{},null!=a?a["partner-account-banner-view"]:a,{name:"outlet",hash:{},data:n}))+"\n"},9:function(t,a,l,e,n){var s;return null!=(s=l.unless.call(null!=a?a:{},null!=(s=null!=a?a.elements:a)?s.right_side_signup:s,{name:"unless",hash:{},fn:t.program(10,n,0),inverse:t.noop,data:n}))?s:""},10:function(t,a,l,e,n){var s=null!=a?a:{},i=l.helperMissing,r=t.escapeExpression;return'\t\t\t\t\t<li role="menuitem"\n\t\t\t\t\t\tclass="gn-signup"\n\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:n}))+'">\n\t\t\t\t\t\t<a data-track="gnSignupClick"\n\t\t\t\t\t\t\tclass="gn-title butt"\n\t\t\t\t\t\t\thref="/signup">'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:n}))+"</a>\n\t\t\t\t\t</li>\n"},12:function(t,a,l,e,n){var s,i=t.lambda,r=t.escapeExpression,o=null!=a?a:{},m=l.helperMissing;return'\t\t\t\t\t<li data-context="you">\n\t\t\t\t\t\t<a role="menuitem"\n\t\t\t\t\t\t\tdata-track="gnYouMainClick"\n\t\t\t\t\t\t\tclass="gn-title you"\n\t\t\t\t\t\t\thref="'+r(i(null!=(s=null!=a?a.viewer:a)?s.url:s,a))+'"\n\t\t\t\t\t\t\taria-haspopup="true"\n\t\t\t\t\t\t\taria-expanded="false"\n\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.YOU"},data:n}))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.YOU"},data:n}))+'</a>\n\n\t\t\t\t\t\t<ul class="gn-submenu" role="menu" aria-label="submenu">\n\t\t\t\t\t\t\t<li class="menuitem">\n\t\t\t\t\t\t\t\t<a role="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:n}))+'"\n\t\t\t\t\t\t\t\tdata-track="gnYouAboutClick" href="'+r(i(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.profile:s,a))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:n}))+'</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="menuitem"\n\t\t\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTOSTREAM"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnYouPhotostreamClick" href="'+r(i(null!=(s=null!=a?a.viewer:a)?s.url:s,a))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTOSTREAM"},data:n}))+'</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="menuitem"\n\t\t\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+(null!=(s=l.if.call(o,null!=(s=null!=a?a.elements:a)?s.set_not_album:s,{name:"if",hash:{},fn:t.program(13,n,0),inverse:t.program(15,n,0),data:n}))?s:"")+'">\n\t\t\t\t\t\t\t\t<a data-track="gnYouSetsClick" href="'+r(i(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.albums:s,a))+'">'+(null!=(s=l.if.call(o,null!=(s=null!=a?a.elements:a)?s.set_not_album:s,{name:"if",hash:{},fn:t.program(13,n,0),inverse:t.program(15,n,0),data:n}))?s:"")+'</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="menuitem"\n\t\t\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.FAVES_SHORT"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnYouFavoritesClick" href="'+r(i(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.favorites:s,a))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.FAVES_SHORT"},data:n}))+'</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="menuitem"\n\t\t\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnYouGalleriesClick" href="'+r(i(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.galleries:s,a))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:n}))+'</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="menuitem"\n\t\t\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GROUPS"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnYouGroupsClick" href="/groups">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GROUPS"},data:n}))+"</a>\n\t\t\t\t\t\t\t</li>\n"+(null!=(s=l.if.call(o,null!=(s=null!=a?a.elements:a)?s.stats:s,{name:"if",hash:{},fn:t.program(17,n,0),inverse:t.noop,data:n}))?s:"")+'\t\t\t\t\t\t\t<li class="menuitem"\n\t\t\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnYouCameraRollClick" href="'+r(i(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.cameraroll:s,a))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:n}))+'</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="divider"\n\t\t\t\t\t\t\t\ttabindex="-1">\n\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="menuitem"\n\t\t\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_ACTIVITY"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnYouRecentActivityClick" href="/activity">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_ACTIVITY"},data:n}))+'</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="menuitem"\n\t\t\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.PEOPLE"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnYouPeopleClick" href="'+r(i(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.people:s,a))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.PEOPLE"},data:n}))+'</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li class="menuitem"\n\t\t\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"global-nav.ORGANIZE"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnYouOrganizeClick" href="/photos/organize">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"global-nav.ORGANIZE"},data:n}))+"</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n"},13:function(t,a,l,e,n){return t.escapeExpression((l.intlMessage||a&&a.intlMessage||l.helperMissing).call(null!=a?a:{},{name:"intlMessage",hash:{intlName:"common.SETS"},data:n}))},15:function(t,a,l,e,n){return t.escapeExpression((l.intlMessage||a&&a.intlMessage||l.helperMissing).call(null!=a?a:{},{name:"intlMessage",hash:{intlName:"common.ALBUMS"},data:n}))},17:function(t,a,l,e,n){var s,i=null!=a?a:{},r=l.helperMissing,o=t.escapeExpression;return'\t\t\t\t\t\t\t\t<li class="menuitem"\n\t\t\t\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\t\t\t\taria-label="'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.STATS"},data:n}))+'">\n\t\t\t\t\t\t\t\t\t<a data-track="gnYouStatsClick" href="'+o(t.lambda(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.stats:s,a))+'">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.STATS"},data:n}))+"</a>\n\t\t\t\t\t\t\t\t</li>\n"},19:function(t,a,l,e,n){var s,i=t.escapeExpression,r=null!=a?a:{},o=l.helperMissing;return'\t\t\t\t\t<li class="toplink">\n\t\t\t\t\t\t<a role="menuitem"\n\t\t\t\t\t\t\tdata-track="gnYouMainClick"\n\t\t\t\t\t\t\tclass="gn-link"\n\t\t\t\t\t\t\thref="'+i(t.lambda(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.cameraroll:s,a))+'"\n\t\t\t\t\t\t\taria-label="'+i((l.intlMessage||a&&a.intlMessage||o).call(r,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:n}))+'"><span>'+i((l.intlMessage||a&&a.intlMessage||o).call(r,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:n}))+"</span></a>\n\t\t\t\t\t</li>\n"},21:function(t,a,l,e,n){var s,i=null!=a?a:{},r=l.helperMissing,o=t.escapeExpression;return'\t\t\t\t\t<li data-context="explore">\n\t\t\t\t\t\t<a role="menuitem"\n\t\t\t\t\t\t\tdata-track="gnExploreMainClick"\n\t\t\t\t\t\t\tclass="gn-title explore"\n\t\t\t\t\t\t\thref="/explore"\n\t\t\t\t\t\t\taria-haspopup="true"\n\t\t\t\t\t\t\taria-expanded="false"\n\t\t\t\t\t\t\taria-label="'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"common.EXPLORE"},data:n}))+'">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"common.EXPLORE"},data:n}))+'</a>\n\t\t\t\t\t\t<ul class="gn-submenu" role="menu" aria-label="submenu">\n\t\t\t\t\t\t\t<li role="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_PHOTOS"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnExploreRecentPhotosClick" href="/explore">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_PHOTOS"},data:n}))+'</a></li>\n\t\t\t\t\t\t\t<li role="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"common.TRENDING"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnExploreTagsClick" href="/photos/tags">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"common.TRENDING"},data:n}))+"</a></li>\n"+(null!=(s=l.if.call(i,null!=(s=null!=a?a.elements:a)?s.vr_link:s,{name:"if",hash:{},fn:t.program(22,n,0),inverse:t.noop,data:n}))?s:"")+'\t\t\t\t\t\t\t<li role="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.THE_COMMONS"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnExploreTheCommonsClick" href="/commons">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.THE_COMMONS"},data:n}))+'</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li role="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.GALLERIES"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnExploreGalleriesClick" href="/galleries">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.GALLERIES"},data:n}))+'</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li role="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.WORLD_MAP"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnExploreWorldMapClick" href="/map">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.WORLD_MAP"},data:n}))+'</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li role="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.CAMERA_FINDER"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnExploreCameraFinderClick" href="/cameras">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.CAMERA_FINDER"},data:n}))+"</a>\n\t\t\t\t\t\t\t</li>\n"+(null!=(s=l.if.call(i,null!=(s=null!=a?a.elements:a)?s.weekly_flickr:s,{name:"if",hash:{},fn:t.program(24,n,0),inverse:t.noop,data:n}))?s:"")+'\t\t\t\t\t\t\t<li role="menuitem"\n\t\t\t\t\t\t\t\taria-label="'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_BLOG"},data:n}))+'">\n\t\t\t\t\t\t\t\t<a data-track="gnExploreFlickrBlogClick" href="https://blog.flickr.net/">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_BLOG"},data:n}))+"</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n"},22:function(t,a,l,e,n){return'\t\t\t\t\t\t\t\t<li role="menuitem"\n\t\t\t\t\t\t\t\t\taria-label="Flickr VR">\n\t\t\t\t\t\t\t\t\t<a data-track="gnExploreVRLandingClick" href="/vr">Flickr VR</a></li>\n'},24:function(t,a,l,e,n){var s=null!=a?a:{},i=l.helperMissing,r=t.escapeExpression;return'\t\t\t\t\t\t\t\t<li role="menuitem"\n\t\t\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"global-nav.THE_WEEKLY_FLICKR"},data:n}))+'">\n\t\t\t\t\t\t\t\t\t<a data-track="gnExploreWeeklyFlickrClick" href="/photos/flickr/albums/72157639868074114/">'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"global-nav.THE_WEEKLY_FLICKR"},data:n}))+"</a>\n\t\t\t\t\t\t\t\t</li>\n"},26:function(t,a,l,e,n){var s=null!=a?a:{},i=l.helperMissing,r=t.escapeExpression;return'\t\t\t\t\t<li class="gn-create">\n\t\t\t\t\t\t<a role="menuitem"\n\t\t\t\t\t\t\tdata-track="gnCreateMainClick"\n\t\t\t\t\t\t\tclass="gn-title"\n\t\t\t\t\t\t\thref="/create"\n\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"global-nav.CREATE"},data:n}))+'">'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"global-nav.CREATE"},data:n}))+"</a>\n\t\t\t\t\t</li>\n"},28:function(t,a,l,e,n){return'\t\t\t\t\t<li class="gn-search-box"\n\t\t\t\t\t\trole="menuitem">\n\t\t\t\t\t\t<svg class="icon icon-search mobile-search-button mobile-only"><use xlink:href="#icon-search"></use></svg>\n\t\t\t\t\t\t'+t.escapeExpression((l.outlet||a&&a.outlet||l.helperMissing).call(null!=a?a:{},null!=a?a["search-autosuggest-field-view"]:a,{name:"outlet",hash:{},data:n}))+'\n\t\t\t\t\t\t<svg class="icon mobile-search-close-button mobile-only"><use xlink:href="#icon-close"></use></svg>\n\t\t\t\t\t</li>\n'},30:function(t,a,l,e,n){var s=null!=a?a:{},i=l.helperMissing,r=t.escapeExpression;return'\t\t\t\t\t<li class="gn-upload desktop-only"\n\t\t\t\t\t\trole="menuitem">\n\t\t\t\t\t\t<a data-track="gnUploadIconMain"\n\t\t\t\t\t\t\tclass="gn-title"\n\t\t\t\t\t\t\thref="/upload"\n\t\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:n}))+'">\n\t\t\t\t\t\t\t<i class="upload-icon" title="'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:n}))+'" aria-hidden="true">'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"global-nav.UPLOAD"},data:n}))+"</i>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n"},32:function(t,a,l,e,n){return'\t\t\t\t\t<li role="menuitem">\n\t\t\t\t\t\t'+t.escapeExpression((l.outlet||a&&a.outlet||l.helperMissing).call(null!=a?a:{},null!=a?a["notifications-menu-view"]:a,{name:"outlet",hash:{},data:n}))+"\n\t\t\t\t\t</li>\n"},34:function(t,a,l,e,n){return'\t\t\t\t\t<li role="menuitem">\n\t\t\t\t\t\t'+t.escapeExpression((l.outlet||a&&a.outlet||l.helperMissing).call(null!=a?a:{},null!=a?a["account-menu-view"]:a,{name:"outlet",hash:{},data:n}))+"\n\t\t\t\t\t</li>\n"},36:function(t,a,l,e,n){var s=null!=a?a:{},i=l.helperMissing,r=t.escapeExpression;return'\t\t\t\t\t<li class="gn-signin"\n\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"global-nav.SIGN_IN"},data:n}))+'">\n\t\t\t\t\t\t<a data-track="gnSignin"\n\t\t\t\t\t\t\tclass="gn-title"\n\t\t\t\t\t\t\thref="/signin">'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"global-nav.LOG_IN"},data:n}))+"</a>\n\t\t\t\t\t</li>\n"},38:function(t,a,l,e,n){var s;return null!=(s=l.if.call(null!=a?a:{},null!=(s=null!=a?a.elements:a)?s.right_side_signup:s,{name:"if",hash:{},fn:t.program(39,n,0),inverse:t.noop,data:n}))?s:""},39:function(t,a,l,e,n){var s=null!=a?a:{},i=l.helperMissing,r=t.escapeExpression;return'\t\t\t\t\t<li class="gn-signup"\n\t\t\t\t\t\trole="menuitem"\n\t\t\t\t\t\taria-label="'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:n}))+'">\n\t\t\t\t\t\t<a data-track="gnSignupClick"\n\t\t\t\t\t\t\tclass="gn-title butt"\n\t\t\t\t\t\t\thref="/signup">'+r((l.intlMessage||a&&a.intlMessage||i).call(s,{name:"intlMessage",hash:{intlName:"common.SIGN_UP"},data:n}))+"</a>\n\t\t\t\t\t</li>\n"},41:function(t,a,l,e,n){var s,i=t.lambda,r=t.escapeExpression,o=null!=a?a:{},m=l.helperMissing;return'\t\t\t\t\t<div class="mobile-nav-column">\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnYouAboutClick" href="'+r(i(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.profile:s,a))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:n}))+'</a></div>\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnYouPhotostreamClick" href="'+r(i(null!=(s=null!=a?a.viewer:a)?s.url:s,a))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.PHOTOSTREAM"},data:n}))+'</a></div>\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnYouSetsClick" href="'+r(i(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.albums:s,a))+'">'+(null!=(s=l.if.call(o,null!=(s=null!=a?a.elements:a)?s.set_not_album:s,{name:"if",hash:{},fn:t.program(13,n,0),inverse:t.program(15,n,0),data:n}))?s:"")+'</a></div>\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnYouFavoritesClick" href="'+r(i(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.favorites:s,a))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.FAVORITES"},data:n}))+'</a></div>\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnYouGalleriesClick" href="'+r(i(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.galleries:s,a))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"common.GALLERIES"},data:n}))+'</a></div>\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnYouGroupsClick" href="/groups">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"global-nav.GROUPS"},data:n}))+"</a></div>\n\t\t\t\t\t\t"+(null!=(s=l.if.call(o,null!=(s=null!=a?a.elements:a)?s.stats:s,{name:"if",hash:{},fn:t.program(42,n,0),inverse:t.noop,data:n}))?s:"")+'\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnYouCameraRollClick" href="'+r(i(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.cameraroll:s,a))+'">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"global-nav.CAMERAROLL"},data:n}))+'</a></div>\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnYouRecentActivityClick" href="/activity">'+r((l.intlMessage||a&&a.intlMessage||m).call(o,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_ACTIVITY"},data:n}))+"</a></div>\n\t\t\t\t\t</div>\n"},42:function(t,a,l,e,n){var s,i=t.escapeExpression;return'<div class="mobile-nav-menu-item"><a data-track="gnYouStatsClick" href="'+i(t.lambda(null!=(s=null!=(s=null!=a?a.viewer:a)?s.urls:s)?s.stats:s,a))+'">'+i((l.intlMessage||a&&a.intlMessage||l.helperMissing).call(null!=a?a:{},{name:"intlMessage",hash:{intlName:"global-nav.STATS"},data:n}))+"</a></div>"},44:function(t,a,l,e,n){var s,i=null!=a?a:{},r=l.helperMissing,o=t.escapeExpression;return'\t\t\t\t\t<div class="mobile-nav-column">\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnExploreMainClick" class="explore" href="/explore" aria-haspopup="true">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"common.EXPLORE"},data:n}))+'</a></div>\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnExploreRecentPhotosClick" href="/explore">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.RECENT_PHOTOS"},data:n}))+'</a></div>\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnExploreTagsClick" href="/photos/tags">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"common.TRENDING"},data:n}))+'</a></div>\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnExploreTheCommonsClick" href="/commons">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.THE_COMMONS"},data:n}))+'</a></div>\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnExploreGalleriesClick" href="/galleries">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.GALLERIES"},data:n}))+"</a></div>\n\t\t\t\t\t\t"+(null!=(s=l.if.call(i,null!=(s=null!=a?a.elements:a)?s.weekly_flickr:s,{name:"if",hash:{},fn:t.program(45,n,0),inverse:t.noop,data:n}))?s:"")+'\n\t\t\t\t\t\t<div class="mobile-nav-menu-item"><a data-track="gnExploreFlickrBlogClick" href="https://blog.flickr.net/">'+o((l.intlMessage||a&&a.intlMessage||r).call(i,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_BLOG"},data:n}))+"</a></div>\n\t\t\t\t\t</div>\n"},45:function(t,a,l,e,n){return'<div class="mobile-nav-menu-item"><a data-track="gnExploreWeeklyFlickrClick" href="/photos/flickr/albums/72157639868074114/">'+t.escapeExpression((l.intlMessage||a&&a.intlMessage||l.helperMissing).call(null!=a?a:{},{name:"intlMessage",hash:{intlName:"global-nav.THE_WEEKLY_FLICKR"},data:n}))+"</a></div>"},47:function(t,a,l,e,n){return"\t\t"+t.escapeExpression((l.outlet||a&&a.outlet||l.helperMissing).call(null!=a?a:{},null!=a?a["browser-upgrade-banner-view"]:a,{name:"outlet",hash:{},data:n}))+"\n"},compiler:[7,">= 4.0.0"],main:function(t,a,l,e,n){var s,i,r=null!=a?a:{},o=l.helperMissing,m=t.escapeExpression;return m((l.outlet||a&&a.outlet||o).call(r,null!=a?a["mobile-app-upsell-view"]:a,{name:"outlet",hash:{},data:n}))+'\n\n<div class="global-nav '+m("function"==typeof(i=null!=(i=l.theme||(null!=a?a.theme:a))?i:o)?i.call(r,{name:"theme",hash:{},data:n}):i)+" "+(null!=(s=l.if.call(r,null!=a?a.isSignedIn:a,{name:"if",hash:{},fn:t.program(1,n,0),inverse:t.program(3,n,0),data:n}))?s:"")+'">\n\t<div class="global-nav-shim'+(null!=(s=l.if.call(r,null!=a?a.showPartnerAccountBanner:a,{name:"if",hash:{},fn:t.program(5,n,0),inverse:t.noop,data:n}))?s:"")+'"></div>\n\n'+(null!=(s=l.if.call(r,null!=a?a.showPartnerAccountBanner:a,{name:"if",hash:{},fn:t.program(7,n,0),inverse:t.noop,data:n}))?s:"")+'\n\t<div class="global-nav-content styleguide-global-nav fluid sohp-mobile-navable'+(null!=(s=l.if.call(r,null!=a?a.showPartnerAccountBanner:a,{name:"if",hash:{},fn:t.program(5,n,0),inverse:t.noop,data:n}))?s:"")+'">\n\t\t<div class="global-nav-container fluid-centered" role="navigation" aria-label="'+m((l.intlMessage||a&&a.intlMessage||o).call(r,{name:"intlMessage",hash:{intlName:"common.MAIN"},data:n}))+'">\n\t\t\t<div class="mobile-nav-toggle mobile-only"><span></span></div>\n\n\t\t\t<div class="flickr-logo-container">\n\t\t\t\t<a href="/"\n\t\t\t\t\tclass="main-logo"\n\t\t\t\t\tdata-track="gnLogoClick"\n\t\t\t\t\ttitle="'+m((l.intlMessage||a&&a.intlMessage||o).call(r,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_LOGO_ALT"},data:n}))+'"\n\t\t\t\t\trole="heading"\n\t\t\t\t\taria-level="1"\n\t\t\t\t\taria-label="'+m((l.intlMessage||a&&a.intlMessage||o).call(r,{name:"intlMessage",hash:{intlName:"global-nav.FLICKR_LOGO_ALT"},data:n}))+'">\n\t\t\t\t\t<svg class="icon icon-flickr_logo"><use xlink:href="#icon-flickr_logo"></use></svg>\n\t\t\t\t</a>\n\t\t\t</div>\n\n\t\t\t<ul class="nav-menu desktop-only" role="menubar">\n'+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.signup_link:s,{name:"if",hash:{},fn:t.program(9,n,0),inverse:t.noop,data:n}))?s:"")+"\n"+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.you_menu:s,{name:"if",hash:{},fn:t.program(12,n,0),inverse:t.noop,data:n}))?s:"")+"\n"+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.you_link:s,{name:"if",hash:{},fn:t.program(19,n,0),inverse:t.noop,data:n}))?s:"")+"\n"+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.explore_menu:s,{name:"if",hash:{},fn:t.program(21,n,0),inverse:t.noop,data:n}))?s:"")+"\n"+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.create_link:s,{name:"if",hash:{},fn:t.program(26,n,0),inverse:t.noop,data:n}))?s:"")+'\t\t\t</ul>\n\n\t\t\t<ul class="gn-tools"\n\t\t\t\trole="menubar">\n'+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.search_bar:s,{name:"if",hash:{},fn:t.program(28,n,0),inverse:t.noop,data:n}))?s:"")+"\n"+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.upload_icon:s,{name:"if",hash:{},fn:t.program(30,n,0),inverse:t.noop,data:n}))?s:"")+"\n"+(null!=(s=l.if.call(r,null!=a?a.showNotificationsMenu:a,{name:"if",hash:{},fn:t.program(32,n,0),inverse:t.noop,data:n}))?s:"")+"\n"+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.account_menu:s,{name:"if",hash:{},fn:t.program(34,n,0),inverse:t.noop,data:n}))?s:"")+"\n"+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.signin_link:s,{name:"if",hash:{},fn:t.program(36,n,0),inverse:t.noop,data:n}))?s:"")+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.signup_link:s,{name:"if",hash:{},fn:t.program(38,n,0),inverse:t.noop,data:n}))?s:"")+'\t\t\t</ul>\n\n\t\t\t<div class="mobile-nav mobile-only">\n'+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.you_menu:s,{name:"if",hash:{},fn:t.program(41,n,0),inverse:t.noop,data:n}))?s:"")+"\n"+(null!=(s=l.if.call(r,null!=(s=null!=a?a.elements:a)?s.explore_menu:s,{name:"if",hash:{},fn:t.program(44,n,0),inverse:t.noop,data:n}))?s:"")+"\t\t\t</div>\n\t\t</div>\n\t</div>\n\n"+(null!=(s=l.if.call(r,null!=a?a["show-browser-upgrade-banner"]:a,{name:"if",hash:{},fn:t.program(47,n,0),inverse:t.noop,data:n}))?s:"")+"\n\t"+m((l.outlet||a&&a.outlet||o).call(r,null!=a?a["person-menu-view"]:a,{name:"outlet",hash:{},data:n}))+"\n\t"+m((l.outlet||a&&a.outlet||o).call(r,null!=a?a["group-menu-view"]:a,{name:"outlet",hash:{},data:n}))+"\n\t"+m((l.outlet||a&&a.outlet||o).call(r,null!=a?a["signup-rail-view"]:a,{name:"outlet",hash:{},data:n}))+"\n\n</div>\n"},useData:!0}),e={};t.Array.each([],function(a){var l=t.Template.get("hermes/"+a);l&&(e[a]=l)}),t.Template.register("hermes/global-nav",function(a,n){return n=n||{},n.partials=n.partials?t.merge(e,n.partials):e,l(a,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-feedback-modal-view",function(t,e){var a=t.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(t,e,a,n,r){return'<div class="feedback-container">\t\t\n \t<h2 class="feedback-title">We Welcome Your Feedback</h2>\t\t\n \t<p class="feedback-description">\t\t\n \t\tHelp us improve your experience by taking our short survey about how you use Flickr.\t\t\n \t</p>\t\t\n \t<div class="feedback-button-container">\t\t\n \t\t<button class="button cancel-button">No Thanks</button>\t\t\n \t\t<button class="button accept-button">Give Feedback</button>\t\t\n \t</div>\t\t\n </div>'},useData:!0}),n={};t.Array.each([],function(e){var a=t.Template.get("hermes/"+e);a&&(n[e]=a)}),t.Template.register("hermes/feedback-modal-view",function(e,r){return r=r||{},r.partials=r.partials?t.merge(n,r.partials):n,a(e,r)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-search-pill",function(a,e){var l=a.Template.Handlebars.revive({1:function(a,e,l,n,r){var i,s,t=null!=e?e:{},c=l.helperMissing,u=a.escapeExpression;return'<li class="search-pill" '+(null!=(i=l.if.call(t,null!=e?e.id:e,{name:"if",hash:{},fn:a.program(2,r,0),inverse:a.noop,data:r}))?i:"")+">"+u((l.truncate||e&&e.truncate||c).call(t,null!=e?e.name:e,20,{name:"truncate",hash:{},data:r}))+'<div class="search-pill-divider"></div>'+u("function"==typeof(s=null!=(s=l.secondName||(null!=e?e.secondName:e))?s:c)?s.call(t,{name:"secondName",hash:{},data:r}):s)+'<i class="search-pill-remover"></i></li>\n'},2:function(a,e,l,n,r){var i;return"id="+a.escapeExpression("function"==typeof(i=null!=(i=l.id||(null!=e?e.id:e))?i:l.helperMissing)?i.call(null!=e?e:{},{name:"id",hash:{},data:r}):i)},4:function(a,e,l,n,r){var i,s=null!=e?e:{};return'<li class="search-pill" '+(null!=(i=l.if.call(s,null!=e?e.id:e,{name:"if",hash:{},fn:a.program(2,r,0),inverse:a.noop,data:r}))?i:"")+">"+a.escapeExpression((l.truncate||e&&e.truncate||l.helperMissing).call(s,null!=e?e.name:e,30,{name:"truncate",hash:{},data:r}))+'<i class="search-pill-remover"></i></li>\n'},compiler:[7,">= 4.0.0"],main:function(a,e,l,n,r){var i;return null!=(i=l.if.call(null!=e?e:{},null!=e?e.combo:e,{name:"if",hash:{},fn:a.program(1,r,0),inverse:a.program(4,r,0),data:r}))?i:""},useData:!0}),n={};a.Array.each([],function(e){var l=a.Template.get("hermes/"+e);l&&(n[e]=l)}),a.Template.register("hermes/search-pill",function(e,r){return r=r||{},r.partials=r.partials?a.merge(n,r.partials):n,l(e,r)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-search-autosuggest-field",function(e,a){var l=e.Template.Handlebars.revive({1:function(e,a,l,s,t){var n;return null!=(n=e.invokePartial(s["search-pill"],a,{name:"search-pill",data:t,indent:"\t\t",helpers:l,partials:s,decorators:e.decorators}))?n:""},3:function(e,a,l,s,t){return' placeholder="'+e.escapeExpression((l.intlMessage||a&&a.intlMessage||l.helperMissing).call(null!=a?a:{},{name:"intlMessage",hash:{intlName:"search.PHOTOS_PEOPLE_OR_GROUPS"},data:t}))+'"'},compiler:[7,">= 4.0.0"],main:function(e,a,l,s,t){var n,r,i,c=null!=a?a:{},h=l.helperMissing,o=e.escapeExpression,u='<form method="get" action="/search/" role="search" class="search-form">\n\n\t<label data-track="gnSearchSearchIcon" aria-label="'+o((l.intlMessage||a&&a.intlMessage||h).call(c,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:t}))+'">\n\t\t<svg class="icon search-icon" style="width: 22px; height: 22px;" data-track="gnSearchSearchIcon" aria-label="'+o((l.intlMessage||a&&a.intlMessage||h).call(c,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:t}))+'"><use xlink:href="#icon-search"></use></svg>\n\t\t<input type="submit" data-track="gnSearchSearchIcon" class="search-icon-button" tabindex="-1" aria-label="'+o((l.intlMessage||a&&a.intlMessage||h).call(c,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:t}))+'" role="button">\n\t</label>\n\t<ul class="search-pillbox">\n';return r=null!=(r=l.pills||(null!=a?a.pills:a))?r:h,i={name:"pills",hash:{},fn:e.program(1,t,0),inverse:e.noop,data:t},n="function"==typeof r?r.call(c,i):r,l.pills||(n=l.blockHelperMissing.call(a,n,i)),null!=n&&(u+=n),u+'\t</ul>\n\t<input type="text" id="search-field" class="autosuggest-selectable-item"'+(null!=(n=l.unless.call(c,null!=a?a.hasPills:a,{name:"unless",hash:{},fn:e.program(3,t,0),inverse:e.noop,data:t}))?n:"")+' name="text" value="'+o("function"==typeof(r=null!=(r=l.searchTerm||(null!=a?a.searchTerm:a))?r:h)?r.call(c,{name:"searchTerm",hash:{},data:t}):r)+'" autocomplete="off" aria-label="'+o((l.intlMessage||a&&a.intlMessage||h).call(c,{name:"intlMessage",hash:{intlName:"search.SEARCH"},data:t}))+'" role="textbox">\n\n</form>\n\n'+o((l.outlet||a&&a.outlet||h).call(c,null!=a?a["search-autosuggest-items-list-view"]:a,{name:"outlet",hash:{},data:t}))+"\n"},usePartial:!0,useData:!0}),s={};e.Array.each(["search-pill"],function(a){var l=e.Template.get("hermes/"+a);l&&(s[a]=l)}),e.Template.register("hermes/search-autosuggest-field",function(a,t){return t=t||{},t.partials=t.partials?e.merge(s,t.partials):s,l(a,t)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-search-pill"]});YUI.add("hermes-lang-autosuggest",function(O,o){O.Intl.add("hermes/autosuggest","en-US",{MEMBER:["1 member"],MEMBERS:[{type:"number",valueName:"count"}," members"],SEARCH_PEOPLE:["Search people"],SEARCH_GROUPS:["Search groups"],SEARCH_PHOTOS:["Search photos"],MORE:["More"],MORE_SEARCH_TYPES:["More search types"],MORE_OPTIONS:["More options"],SEARCH_YOUR_PHOTOS:["Search your photos"],SEARCH_EVERYONES_PHOTOS:["Search everyone's photos"],SEARCH_CONTACTS_PHOTOS:["Search your contacts' photos"],YOUR_PHOTOS:["Your photos"],EVERYONES_PHOTOS:["Everyone's photos"],YOUR_CONTACTS_PHOTOS:["Your contacts' photos"],SEARCH_USER_PHOTOS:["Search ","${name}","'s photos"],SEARCH_GROUP_PHOTOS:["Search photos in ","${name}"],YOUR_PHOTOSTREAM:["Your photostream"],YOUR_ALBUMS:["Your albums"],SETS:["Sets"],CAMERA_ROLL:["Camera roll"],ORGANIZE:["Organize"],YOUR_COLLECTIONS:["Your collections"],YOUR_GALLERIES:["Your galleries"],YOUR_ARCHIVES:["Your archives"],YOUR_TAGS:["Your tags"],YOUR_MAP:["Your map"],YOUR_FAVORITES:["Your favorites"],YOUR_STATS:["Your stats"],GRAPHS:["Graphs"],REFERRERS:["Referrers"],VIEWS:["Views"],YOUR_APPS:["Your apps"],RECENT_ACTIVITY:["Recent activity"],PHOTOS_OF_YOU:["Photos of you"],UPLOAD_PHOTOS:["Upload photos"],YOUR_ACCOUNT:["Your account"],SETTINGS:["Settings"],PREFERENCES:["Preferences"],YOUR_PROFILE:["Your profile"],FLICKR_MAIL:["Flickr mail"],ORGANIZR:["Organizr"],CREATE:["Create"],WALL_ART:["Wall art"],PHOTO_BOOKS:["Photo books"],CURATED_COLLECTION:["Curated collection"],PHOTOS_OF_YOUR_CONTACTS:["Photos of your contacts"],FOLLOWING:["Following"],CONTACTS_LIST:["Contacts list"],FOLLOWERS:["Followers"],FIND_YOUR_FRIENDS:["Find your friends"],INVITE_YOUR_FRIENDS:["Invite your friends"],INVITE_HISTORY:["Invite history"],GUEST_PASS_HISTORY:["Guest pass history"],YOUR_GROUPS:["Your groups"],RECENT_GROUP_DISCUSSIONS:["Recent group discussions"],CREATE_A_GROUP:["Create a group"],EXPLORE:["Explore"],POPULAR_TAGS:["Popular tags"],GALLERIES:["Galleries"],ANALOG:["Analog"],FILM:["Film"],WORLD_MAP:["World map"],PLACES:["Places"],THE_COMMONS:["The Commons"],CREATIVE_COMMONS:["Creative Commons"],CC:["CC"],LICENSE:["License"],THE_FLICKR_BLOG:["The Flickr Blog"],THE_FLICKR_CODE_BLOG:["The Flickr Code Blog"],THE_APP_GARDEN:["The App Garden"],CAMERA_FINDER:["Camera finder"],DEVELOPER_GUIDE:["Developer guide"],API:["API"],PROGRAMMING:["Programming"],CODE:["Code"],DOCUMENTATION:["Documentation"],DEVELOPER:["Developer"],API_DOCUMENTATION:["API documentation"],FEEDS:["Feeds"],RSS:["RSS"],ATOM:["Atom"],DATA:["Data"],HELP:["Help"],COMMUNITY_GUIDELINES:["Community guidelines"],HELP_FORUM:["Help forum"],FAQ:["FAQ"],FREQUENTLY_ASKED_QUESTIONS:["Frequently asked questions"],TOOLS:["Tools"],UPLOAD:["Upload"],MAC:["Mac"],WINDOWS:["Windows"],ABOUT_FLICKR:["About Flickr"],STAFF:["Staff"],JOBS_AT_FLICKR:["Jobs at Flickr"],CAREER:["Career"],TWENTY_UNDER_TWENTY:["20 Under 20"],ME:["Me"],FLICKR_MARKETPLACE:["Flickr Marketplace"]})},"@VERSION@",{requires:["intl"]});/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("text-data-accentfold",function(e,t){e.namespace("Text.Data").AccentFold={0:/[\u2070\u2080\u24EA\uFF10]/gi,1:/[\u00B9\u2081\u2460\uFF11]/gi,2:/[\u00B2\u2082\u2461\uFF12]/gi,3:/[\u00B3\u2083\u2462\uFF13]/gi,4:/[\u2074\u2084\u2463\uFF14]/gi,5:/[\u2075\u2085\u2464\uFF15]/gi,6:/[\u2076\u2086\u2465\uFF16]/gi,7:/[\u2077\u2087\u2466\uFF17]/gi,8:/[\u2078\u2088\u2467\uFF18]/gi,9:/[\u2079\u2089\u2468\uFF19]/gi,a:/[\u00AA\u00E0-\u00E5\u0101\u0103\u0105\u01CE\u01DF\u01E1\u01FB\u0201\u0203\u0227\u1D43\u1E01\u1E9A\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u24D0\uFF41]/gi,b:/[\u1D47\u1E03\u1E05\u1E07\u24D1\uFF42]/gi,c:/[\u00E7\u0107\u0109\u010B\u010D\u1D9C\u1E09\u24D2\uFF43]/gi,d:/[\u010F\u1D48\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u217E\u24D3\uFF44]/gi,e:/[\u00E8-\u00EB\u0113\u0115\u0117\u0119\u011B\u0205\u0207\u0229\u1D49\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u2091\u212F\u24D4\uFF45]/gi,f:/[\u1DA0\u1E1F\u24D5\uFF46]/gi,g:/[\u011D\u011F\u0121\u0123\u01E7\u01F5\u1D4D\u1E21\u210A\u24D6\uFF47]/gi,h:/[\u0125\u021F\u02B0\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E96\u210E\u24D7\uFF48]/gi,i:/[\u00EC-\u00EF\u0129\u012B\u012D\u012F\u0133\u01D0\u0209\u020B\u1D62\u1E2D\u1E2F\u1EC9\u1ECB\u2071\u2139\u2170\u24D8\uFF49]/gi,j:/[\u0135\u01F0\u02B2\u24D9\u2C7C\uFF4A]/gi,k:/[\u0137\u01E9\u1D4F\u1E31\u1E33\u1E35\u24DA\uFF4B]/gi,l:/[\u013A\u013C\u013E\u0140\u01C9\u02E1\u1E37\u1E39\u1E3B\u1E3D\u2113\u217C\u24DB\uFF4C]/gi,m:/[\u1D50\u1E3F\u1E41\u1E43\u217F\u24DC\uFF4D]/gi,n:/[\u00F1\u0144\u0146\u0148\u01F9\u1E45\u1E47\u1E49\u1E4B\u207F\u24DD\uFF4E]/gi,o:/[\u00BA\u00F2-\u00F6\u014D\u014F\u0151\u01A1\u01D2\u01EB\u01ED\u020D\u020F\u022B\u022D\u022F\u0231\u1D52\u1E4D\u1E4F\u1E51\u1E53\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u2092\u2134\u24DE\uFF4F]/gi,p:/[\u1D56\u1E55\u1E57\u24DF\uFF50]/gi,q:/[\u02A0\u24E0\uFF51]/gi,r:/[\u0155\u0157\u0159\u0211\u0213\u02B3\u1D63\u1E59\u1E5B\u1E5D\u1E5F\u24E1\uFF52]/gi,s:/[\u015B\u015D\u015F\u0161\u017F\u0219\u02E2\u1E61\u1E63\u1E65\u1E67\u1E69\u1E9B\u24E2\uFF53]/gi,t:/[\u0163\u0165\u021B\u1D57\u1E6B\u1E6D\u1E6F\u1E71\u1E97\u24E3\uFF54]/gi,u:/[\u00F9-\u00FC\u0169\u016B\u016D\u016F\u0171\u0173\u01B0\u01D4\u01D6\u01D8\u01DA\u01DC\u0215\u0217\u1D58\u1D64\u1E73\u1E75\u1E77\u1E79\u1E7B\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u24E4\uFF55]/gi,v:/[\u1D5B\u1D65\u1E7D\u1E7F\u2174\u24E5\uFF56]/gi,w:/[\u0175\u02B7\u1E81\u1E83\u1E85\u1E87\u1E89\u1E98\u24E6\uFF57]/gi,x:/[\u02E3\u1E8B\u1E8D\u2093\u2179\u24E7\uFF58]/gi,y:/[\u00FD\u00FF\u0177\u0233\u02B8\u1E8F\u1E99\u1EF3\u1EF5\u1EF7\u1EF9\u24E8\uFF59]/gi,z:/[\u017A\u017C\u017E\u1DBB\u1E91\u1E93\u1E95\u24E9\uFF5A]/gi}},"3.16.0",{requires:["yui-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("text-accentfold",function(e,t){var n=e.Array,r=e.Text,i=r.Data.AccentFold,s={canFold:function(e){var t;for(t in i)if(i.hasOwnProperty(t)&&e.search(i[t])!==-1)return!0;return!1},compare:function(e,t,n){var r=s.fold(e),i=s.fold(t);return n?!!n(r,i):r===i},filter:function(e,t){return n.filter(e,function(e){return t(s.fold(e))})},fold:function(t){return e.Lang.isArray(t)?n.map(t,s.fold):(t=t.toLowerCase(),e.Object.each(i,function(e,n){t=t.replace(e,n)}),t)}};r.AccentFold=s},"3.16.0",{requires:["array-extras","text-data-accentfold"]});
YUI.add("autosuggest-context-results-models",function(t){function e(t){e.superclass.constructor.call(this,t)}t.Models[this.name]=e,t.extend(e,t.FlickrModelRegistry,{name:this.name,langBundles:this.details.langBundles,TAG_ITEM_TYPE:0,PERSON_ITEM_TYPE:1,GROUP_ITEM_TYPE:2,PAGE_ITEM_TYPE:3,processItem:function(e,s){var l;if(e.type=s,e.titleIntlKey&&(e.title=this.intlMessage({intlName:e.titleIntlKey})),e.aliasIntlKeys)for(e.aliases=e.aliases||[],l=0;l<e.aliasIntlKeys.length;l++)e.aliases.push(this.intlMessage({intlName:e.aliasIntlKeys[l]}));return s===this.TAG_ITEM_TYPE||s===this.PAGE_ITEM_TYPE?e.key=e.title:e.key=e.nsid,e.matches&&(e.matches=e.matches.map(function(e){return e.token=t.Text.AccentFold.fold(e.token),e})),e},remote:{read:function(e){return t.ModelFetchers["flickr-autosuggest-getContextResults-fetcher"].run(e,this.appContext)}},attributes:{contextId:{writeOnce:"initOnly"},contextType:{writeOnce:"initOnly"},tags:{setter:function(t){var e,s;for(e=0,s=t.length;e<s;e++)this.processItem(t[e],this.TAG_ITEM_TYPE);return t}},people:{setter:function(t){var e,s;for(e=0,s=t.length;e<s;e++)this.processItem(t[e],this.PERSON_ITEM_TYPE);return t}},groups:{setter:function(t){var e,s;for(e=0,s=t.length;e<s;e++)this.processItem(t[e],this.GROUP_ITEM_TYPE);return t}},pages:{readOnly:!0,getter:function(t){var e,s;for(e=0,s=t.length;e<s;e++)this.processItem(t[e],this.PAGE_ITEM_TYPE);return t},defaultValue:[{url:"/photos/me/",titleIntlKey:"autosuggest.YOUR_PHOTOSTREAM",aliasIntlKeys:["autosuggest.ME"]},{url:"/me/albums/",titleIntlKey:"autosuggest.YOUR_ALBUMS",aliasIntlKeys:["autosuggest.SETS"]},{url:"/photos/me/collections/",titleIntlKey:"autosuggest.YOUR_COLLECTIONS",aliasIntlKeys:[]},{url:"/photos/me/galleries/",titleIntlKey:"autosuggest.YOUR_GALLERIES",aliasIntlKeys:[]},{url:"/photos/me/archives/",titleIntlKey:"autosuggest.YOUR_ARCHIVES",aliasIntlKeys:[]},{url:"/photos/me/tags/",titleIntlKey:"autosuggest.YOUR_TAGS",aliasIntlKeys:[]},{url:"/photos/me/map/",titleIntlKey:"autosuggest.YOUR_MAP",aliasIntlKeys:[]},{url:"/me/favorites/",titleIntlKey:"autosuggest.YOUR_FAVORITES",aliasIntlKeys:[]},{url:"/photos/me/stats/",titleIntlKey:"autosuggest.YOUR_STATS",aliasIntlKeys:["autosuggest.GRAPHS","autosuggest.REFERRERS","autosuggest.VIEWS"]},{url:"/services/apps/by/me/",titleIntlKey:"autosuggest.YOUR_APPS",aliasIntlKeys:[]},{url:"/activity/",titleIntlKey:"autosuggest.RECENT_ACTIVITY",aliasIntlKeys:[]},{url:"/photosof/me/",titleIntlKey:"autosuggest.PHOTOS_OF_YOU",aliasIntlKeys:["autosuggest.ME"]},{url:"/photos/upload/",titleIntlKey:"autosuggest.UPLOAD_PHOTOS",aliasIntlKeys:[]},{url:"/account/",titleIntlKey:"autosuggest.YOUR_ACCOUNT",aliasIntlKeys:["autosuggest.SETTINGS","autosuggest.PREFERENCES"]},{url:"/people/me/",titleIntlKey:"autosuggest.YOUR_PROFILE",aliasIntlKeys:["autosuggest.ME"]},{url:"/photos/organize/",titleIntlKey:"autosuggest.ORGANIZR",aliasIntlKeys:[]},{url:"/photos/contacts/",titleIntlKey:"autosuggest.YOUR_CONTACTS_PHOTOS",aliasIntlKeys:[]},{url:"/photosof/contacts/",titleIntlKey:"autosuggest.PHOTOS_OF_YOUR_CONTACTS",aliasIntlKeys:[]},{url:"/people/me/contacts/",titleIntlKey:"autosuggest.FOLLOWING",aliasIntlKeys:["autosuggest.CONTACTS_LIST"]},{url:"/people/me/contacts/rev/",titleIntlKey:"autosuggest.FOLLOWERS",aliasIntlKeys:[]},{url:"/import/people/",titleIntlKey:"autosuggest.FIND_YOUR_FRIENDS",aliasIntlKeys:[]},{url:"/invite/",titleIntlKey:"autosuggest.INVITE_YOUR_FRIENDS",aliasIntlKeys:[]},{url:"/invite/history/",titleIntlKey:"autosuggest.INVITE_HISTORY",aliasIntlKeys:[]},{url:"/invite/history/guests/",titleIntlKey:"autosuggest.GUEST_PASS_HISTORY",aliasIntlKeys:[]},{url:"/groups/",titleIntlKey:"autosuggest.YOUR_GROUPS",aliasIntlKeys:[]},{url:"/recent.gne/",titleIntlKey:"autosuggest.RECENT_GROUP_DISCUSSIONS",aliasIntlKeys:[]},{url:"/group_create.gne/",titleIntlKey:"autosuggest.CREATE_A_GROUP",aliasIntlKeys:[]},{url:"/explore/",titleIntlKey:"autosuggest.EXPLORE",aliasIntlKeys:[]},{url:"/photos/tags/",titleIntlKey:"autosuggest.POPULAR_TAGS",aliasIntlKeys:[]},{url:"/galleries/",titleIntlKey:"autosuggest.GALLERIES",aliasIntlKeys:[]},{url:"/analog/",titleIntlKey:"autosuggest.ANALOG",aliasIntlKeys:["autosuggest.FILM"]},{url:"/map/",titleIntlKey:"autosuggest.WORLD_MAP",aliasIntlKeys:[]},{url:"/places/",titleIntlKey:"autosuggest.PLACES",aliasIntlKeys:[]},{url:"/marketplace/",titleIntlKey:"autosuggest.FLICKR_MARKETPLACE",aliasIntlKeys:[]},{url:"/commons/",titleIntlKey:"autosuggest.THE_COMMONS",aliasIntlKeys:[]},{url:"/creativecommons/",titleIntlKey:"autosuggest.CREATIVE_COMMONS",aliasIntlKeys:["autosuggest.CC","autosuggest.LICENSE"]},{url:"/services/",titleIntlKey:"autosuggest.THE_APP_GARDEN",aliasIntlKeys:[]},{url:"/cameras/",titleIntlKey:"autosuggest.CAMERA_FINDER",aliasIntlKeys:[]},{url:"/services/api/",titleIntlKey:"autosuggest.API_DOCUMENTATION",aliasIntlKeys:["autosuggest.PROGRAMMING","autosuggest.CODE","autosuggest.DEVELOPER"]},{url:"/services/developer/",titleIntlKey:"autosuggest.DEVELOPER_GUIDE",aliasIntlKeys:["autosuggest.API","autosuggest.PROGRAMMING","autosuggest.CODE","autosuggest.DOCUMENTATION"]},{url:"/services/feeds/",titleIntlKey:"autosuggest.FEEDS",aliasIntlKeys:["autosuggest.RSS","autosuggest.ATOM","autosuggest.DATA"]},{url:"/help/",titleIntlKey:"autosuggest.HELP",aliasIntlKeys:[]},{url:"/help/guidelines/",titleIntlKey:"autosuggest.COMMUNITY_GUIDELINES",aliasIntlKeys:[]},{url:"/help/forum/",titleIntlKey:"autosuggest.HELP_FORUM",aliasIntlKeys:[]},{url:"/tools/",titleIntlKey:"autosuggest.TOOLS",aliasIntlKeys:["autosuggest.UPLOAD","autosuggest.MAC","autosuggest.WINDOWS"]},{url:"/about/",titleIntlKey:"autosuggest.ABOUT_FLICKR",aliasIntlKeys:["autosuggest.STAFF"]},{url:"/mail/",titleIntlKey:"autosuggest.FLICKR_MAIL",aliasIntlKeys:[]},{url:"/create/",titleIntlKey:"autosuggest.CREATE",aliasIntlKeys:["autosuggest.WALL_ART","autosuggest.PHOTO_BOOKS"]},{url:"/cameraroll/",titleIntlKey:"autosuggest.CAMERA_ROLL",aliasIntlKeys:["autosuggest.ORGANIZE"]},{url:"/20under20/",titleIntlKey:"autosuggest.TWENTY_UNDER_TWENTY",aliasIntlKeys:[]},{url:"http://blog.flickr.net",titleIntlKey:"autosuggest.THE_FLICKR_BLOG",aliasIntlKeys:[]},{url:"http://code.flickr.net",titleIntlKey:"autosuggest.THE_FLICKR_CODE_BLOG",aliasIntlKeys:["autosuggest.API","autosuggest.PROGRAMMING","autosuggest.CODE","autosuggest.DEVELOPER"]},{url:"/jobs/",titleIntlKey:"autosuggest.JOBS_AT_FLICKR",aliasIntlKeys:["autosuggest.CAREER"]}]}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-autosuggest-getContextResults-fetcher","text-accentfold"],langBundles:["autosuggest"]});YUI.add("flickr-autosuggest-getContextResults-fetcher",function(e,t){"use strict";e.namespace("ModelFetchers")["flickr-autosuggest-getContextResults-fetcher"]={run:function(s,r){var o=this,u=this._processParams(s);return e.Promise.all([r.callAPI("flickr.autosuggest.getContextResults",u),r.getModelRegistry("autosuggest-context-results-models")]).then(function(t){return o._processResponse(t,e.merge(u,s))},e.FetcherErrorLogger(t))},_processParams:function(t){var s=t.id.split("_");return{extras:e.APIHelper.request.getRebootPhotoExtras(),context_id:s[0],context_type:s[1]}},_processResponse:function(e,t){var s,r=e[0],o=e[1];if(s={id:t.id,contextId:t.context_id,contextType:t.context_type,tags:r.results.tags||[],people:r.results.people||[],groups:r.results.groups||[]},!r.results)throw new Error("No `results` property returned by API.");return o.add(s)}}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["autosuggest-context-results-models"]});YUI.add("hermes-template-search-autosuggest-list-item",function(a,n){var l=a.Template.Handlebars.revive({1:function(a,n,l,e,r){return" header"},3:function(a,n,l,e,r){return" empty"},5:function(a,n,l,e,r){var t,i,s=null!=n?n:{},u=l.helperMissing,o=a.escapeExpression;return" autosuggest-selectable-item"+(null!=(t=l.if.call(s,null!=n?n.selected:n,{name:"if",hash:{},fn:a.program(6,r,0),inverse:a.noop,data:r}))?t:"")+'" data-track="autosuggestNavigate_'+o("function"==typeof(i=null!=(i=l.rapidType||(null!=n?n.rapidType:n))?i:u)?i.call(s,{name:"rapidType",hash:{},data:r}):i)+'" data-href="'+o("function"==typeof(i=null!=(i=l.url||(null!=n?n.url:n))?i:u)?i.call(s,{name:"url",hash:{},data:r}):i)+'"'+(null!=(t=l.if.call(s,null!=n?n.title:n,{name:"if",hash:{},fn:a.program(8,r,0),inverse:a.noop,data:r}))?t:"")+' tabindex="0"'},6:function(a,n,l,e,r){return" selected"},8:function(a,n,l,e,r){var t;return' data-title="'+a.escapeExpression("function"==typeof(t=null!=(t=l.title||(null!=n?n.title:n))?t:l.helperMissing)?t.call(null!=n?n:{},{name:"title",hash:{},data:r}):t)+'"'},10:function(a,n,l,e,r){return'"'},12:function(a,n,l,e,r){var t,i=a.lambda,s=a.escapeExpression,u=null!=n?n:{};return'<span class="item-icon"><span class="avatar tiny no-menu '+s(i(null!=(t=null!=n?n.avatar:n)?t.type:t,n))+'" title="'+s(i(null!=(t=null!=n?n.avatar:n)?t.title:t,n))+'"'+(null!=(t=l.if.call(u,null!=(t=null!=n?n.avatar:n)?t.groupNsid:t,{name:"if",hash:{},fn:a.program(13,r,0),inverse:a.noop,data:r}))?t:"")+(null!=(t=l.if.call(u,null!=(t=null!=n?n.avatar:n)?t.personNsid:t,{name:"if",hash:{},fn:a.program(15,r,0),inverse:a.noop,data:r}))?t:"")+' style="background-image: url('+s(i(null!=(t=null!=n?n.avatar:n)?t.url:t,n))+');"></span></span>'},13:function(a,n,l,e,r){var t;return' data-group-nsid="'+a.escapeExpression(a.lambda(null!=(t=null!=n?n.avatar:n)?t.groupNsid:t,n))+'"'},15:function(a,n,l,e,r){var t;return' data-person-nsid="'+a.escapeExpression(a.lambda(null!=(t=null!=n?n.avatar:n)?t.personNsid:t,n))+'"'},17:function(a,n,l,e,r){var t;return'<span class="item-icon"><span class="'+a.escapeExpression("function"==typeof(t=null!=(t=l.iconClass||(null!=n?n.iconClass:n))?t:l.helperMissing)?t.call(null!=n?n:{},{name:"iconClass",hash:{},data:r}):t)+'"></span></span>'},19:function(a,n,l,e,r){return'<span class="item-icon"></span>'},21:function(a,n,l,e,r){var t,i=null!=n?n:{},s=l.helperMissing;return'<span class="item-title'+(null!=(t=l.if.call(i,null!=n?n.header:n,{name:"if",hash:{},fn:a.program(22,r,0),inverse:a.noop,data:r}))?t:"")+'">'+a.escapeExpression((l.renderTrustedMarkup||n&&n.renderTrustedMarkup||s).call(i,(l.multiHighlightString||n&&n.multiHighlightString||s).call(i,null!=n?n.title:n,null!=n?n.titleHighlights:n,"highlight",{name:"multiHighlightString",hash:{},data:r}),{name:"renderTrustedMarkup",hash:{},data:r}))+"</span>"},22:function(a,n,l,e,r){return" tertiary"},24:function(a,n,l,e,r){var t,i=null!=n?n:{},s=l.helperMissing;return'<span class="item-subtitle '+(null!=(t=l.if.call(i,null!=n?n.header:n,{name:"if",hash:{},fn:a.program(25,r,0),inverse:a.program(27,r,0),data:r}))?t:"")+'">'+(null!=(t=l.unless.call(i,null!=n?n.header:n,{name:"unless",hash:{},fn:a.program(29,r,0),inverse:a.noop,data:r}))?t:"")+a.escapeExpression((l.renderTrustedMarkup||n&&n.renderTrustedMarkup||s).call(i,(l.multiHighlightString||n&&n.multiHighlightString||s).call(i,null!=n?n.subtitle:n,null!=n?n.subtitleHighlights:n,"highlight",{name:"multiHighlightString",hash:{},data:r}),{name:"renderTrustedMarkup",hash:{},data:r}))+(null!=(t=l.unless.call(i,null!=n?n.header:n,{name:"unless",hash:{},fn:a.program(31,r,0),inverse:a.noop,data:r}))?t:"")+"</span>"},25:function(a,n,l,e,r){return"link"},27:function(a,n,l,e,r){return"tertiary"},29:function(a,n,l,e,r){return"("},31:function(a,n,l,e,r){return")"},compiler:[7,">= 4.0.0"],main:function(a,n,l,e,r){var t,i=null!=n?n:{};return'<div class="autosuggest-item'+(null!=(t=l.if.call(i,null!=n?n.header:n,{name:"if",hash:{},fn:a.program(1,r,0),inverse:a.noop,data:r}))?t:"")+(null!=(t=l.if.call(i,null!=n?n.empty:n,{name:"if",hash:{},fn:a.program(3,r,0),inverse:a.noop,data:r}))?t:"")+(null!=(t=l.if.call(i,null!=n?n.url:n,{name:"if",hash:{},fn:a.program(5,r,0),inverse:a.program(10,r,0),data:r}))?t:"")+">\n\t"+(null!=(t=l.if.call(i,null!=n?n.avatar:n,{name:"if",hash:{},fn:a.program(12,r,0),inverse:a.noop,data:r}))?t:"")+"\n\t"+(null!=(t=l.if.call(i,null!=n?n.iconClass:n,{name:"if",hash:{},fn:a.program(17,r,0),inverse:a.noop,data:r}))?t:"")+"\n\t"+(null!=(t=l.if.call(i,null!=n?n.useIconPlaceholder:n,{name:"if",hash:{},fn:a.program(19,r,0),inverse:a.noop,data:r}))?t:"")+"\n\t"+(null!=(t=l.if.call(i,null!=n?n.title:n,{name:"if",hash:{},fn:a.program(21,r,0),inverse:a.noop,data:r}))?t:"")+"\n\t"+(null!=(t=l.if.call(i,null!=n?n.subtitle:n,{name:"if",hash:{},fn:a.program(24,r,0),inverse:a.noop,data:r}))?t:"")+"\n</div>\n"},useData:!0}),e={};a.Array.each([],function(n){var l=a.Template.get("hermes/"+n);l&&(e[n]=l)}),a.Template.register("hermes/search-autosuggest-list-item",function(n,r){return r=r||{},r.partials=r.partials?a.merge(e,r.partials):e,l(n,r)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-search-autosuggest-items-list",function(e,t){var a=e.Template.Handlebars.revive({1:function(e,t,a,s,r){var l;return'\t\t<li class="autosuggest-list-elem" role="menuitem">'+(null!=(l=e.invokePartial(s["search-autosuggest-list-item"],t,{name:"search-autosuggest-list-item",data:r,helpers:a,partials:s,decorators:e.decorators}))?l:"")+"</li>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,a,s,r){var l;return'<ul class="autosuggest-items-list" role="menu">\n'+(null!=(l=a.each.call(null!=t?t:{},null!=t?t.autosuggestItems:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?l:"")+"</ul>\n"},usePartial:!0,useData:!0}),s={};e.Array.each(["search-autosuggest-list-item"],function(t){var a=e.Template.get("hermes/"+t);a&&(s[t]=a)}),e.Template.register("hermes/search-autosuggest-items-list",function(t,r){return r=r||{},r.partials=r.partials?e.merge(s,r.partials):s,a(t,r)})},"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-search-autosuggest-list-item"]});YUI.add("autosuggest-data-manager",function(e){function i(e){return e.trim().split(/\s+/)}function t(i){var t=i.replace(/[\W,_]/g,"").toLowerCase();return e.fluid.removeDiacritics(t)}function r(e){var i,t,r="",n=e.split("");for(t=0,i=n.length;t<i-1;t++)r+=n[t]+"[\\W,_]*";return r+=n[i-1]}var n;(n=e.AutosuggestDataManager=function(e){(e=e||{}).prefixTrie?this.prefixTrie=e.prefixTrie:this._buildPrefixTrie(e.items)}).locateQuery=function(e,n){var s,u,f,o,c,l,a,h=[],d={};if(!e||!n)return[];for(a=0,u=(s=i(e)).length;a<u;a++)d[f=t(s[a])]||(o=r(f),(c=new RegExp("(\\b|_)("+o+")","i").exec(n))&&(l=c.index+c[1].length,h.push({start:l,end:l+c[2].length})),d[f]=!0);return h},n.deserialize=function(e){return new n({prefixTrie:JSON.parse(e)})},n.prototype={add:function(e){function r(n){var l,a,h,d,g,p,T,x,m,y,_;for(l=0,a=n.length;l<a;l++){if(h=n[l],g=[],h.title&&(g=g.concat(i(h.title))),h.subtitle&&(g=g.concat(i(h.subtitle))),h.aliases)for(_=0,d=h.aliases.length;_<d;_++)g=g.concat(i(h.aliases[_]));for(_=0,p=g.length;_<p;_++)for(T=g[_],x=o.prefixTrie,m=t(T).split("");y=m.shift();)x.children[y]=x.children[y]||o._newTrieNode(),(x=x.children[y]).itemKeys[h.key]||(x.items.push(h),x.itemKeys[h.key]=!0)}u<s&&(f=s>u+c?u+c:s,n=e.slice(u,f),u=f,setTimeout(function(){r(n)},0))}var n,s,u,f,o=this,c=250;u=0,s=e.length,f=s>u+c?u+c:s,n=e.slice(u,f),u=f,r(n)},query:function(e){var r,n,s,u,f,o=this;return e?(i(e).every(function(e){if(r=o.prefixTrie,!(n=t(e).split("")).length)return!0;for(;r&&(f=n.shift());)r=r.children[f];return r&&0===n.length?(s=r.items.slice(),!(u=u?o._intersectMatches(u,s):s)||0!==u.length):(u=[],!1)}),u||[]):[]},serialize:function(){return JSON.stringify(this.prefixTrie)},_buildPrefixTrie:function(e){this.prefixTrie=this._newTrieNode(),e&&this.add(e)},_newTrieNode:function(){return{items:[],itemKeys:{},children:{}}},_intersectMatches:function(e,i){return e.filter(function(e){return i.some(function(i){return i.key===e.key})})}}},"@VERSION@",{requires:[],optionalRequires:["fluid"]});YUI.add("search-autosuggest-items-list-view",function(e,t){var s=require("hermes-core/flog")(t),a=[{key:"photos",headerTemplate:{titleIntlKey:"search.PHOTOS",searchLink:{textIntlKey:"search.SEARCH_PHOTOS",searchType:e.SearchUrl.searchTypes.PHOTOS,rapidType:"searchPhotos",iconClass:"icon-photos"}}},{key:"people",headerTemplate:{titleIntlKey:"search.PEOPLE",searchLink:{textIntlKey:"search.SEARCH_PEOPLE",searchType:e.SearchUrl.searchTypes.PEOPLE,rapidType:"searchPeople",iconClass:"icon-people"}}},{key:"groups",headerTemplate:{titleIntlKey:"search.GROUPS",searchLink:{textIntlKey:"search.SEARCH_GROUPS",searchType:e.SearchUrl.searchTypes.GROUPS,rapidType:"searchGroups",iconClass:"icon-groups"}}},{key:"pages"}];e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return this.set("autosuggestItems",t.autosuggestItems||{}),this.set("searchUrl",new e.SearchUrl(this.appContext.getLocation().href,this.appContext)),this.set("searchQuery",""),this},loadState:function(){var e=this.appContext.getViewer().signedIn?this.appContext.getViewer().nsid+"_user":"global_global",t=this;return this.appContext.getModel("autosuggest-context-results-models",{id:e}).then(function(e){e&&(t.processTimeout=setTimeout(function(){t.processAutosuggestModels(e)},1e3))},function(t){s.warn("error loading autosuggest data",{modelId:e})})},processAutosuggestModels:function(t){var s={};t&&t.getValue("pages").length&&(s.pages=new e.AutosuggestDataManager({items:t.getValue("pages")})),t&&t.getValue("people").length&&(s.people=new e.AutosuggestDataManager({items:t.getValue("people")})),t&&t.getValue("groups").length&&(s.groups=new e.AutosuggestDataManager({items:t.getValue("groups")})),this.set("autosuggestDataManagers",s)},updateAutosuggestItems:function(e){var t,s=this.get("autosuggestDataManagers"),a={};t=function(e,t){return e.score&&t.score?t.score-e.score:0},e&&s&&(s.pages&&(a.pages=s.pages.query(e).sort(t)),s.people&&(a.people=s.people.query(e).sort(t)),s.groups&&(a.groups=s.groups.query(e).sort(t))),this.set("autosuggestItems",a||{}),this.set("searchQuery",e||""),this.set("previouslySelectedNode",null),this.buildContainer()},buildContainer:function(){return this.assembleAutosuggestItemsList(),this.setContainerWithTemplate("search-autosuggest-items-list",{autosuggestItems:this.get("autosuggestItemsList")}),this},activate:function(){var e=this.get("container");return this.registerEventHandler(e.delegate("blur",this.handleAutosuggestListItemBlur.bind(this),".autosuggest-selectable-item")),this.registerEventHandler(e.delegate("click",this.handleAutosuggestListItemClick.bind(this),".autosuggest-selectable-item")),this.registerEventHandler(e.delegate("mouseenter",this.handleAutosuggestListItemHoverOn.bind(this),".autosuggest-selectable-item")),this.registerEventHandler(e.delegate("keydown",this.handleAutosuggestListItemKeydown.bind(this),".autosuggest-selectable-item")),this},onParentViewEvent:function(e,t){switch(t&&t.length&&t[0]){case"update-autosuggest-items":this.updateAutosuggestItems(t[1],t[2]);break;case"enable-autosuggest":this.get("container").removeClass("disabled");break;case"disable-autosuggest":this.get("container").addClass("disabled");break;case"autosuggest-keyboard-nav":t[1]&&this.doKeyboardNav(t[1],!0)}},assembleAutosuggestItemsList:function(){var e,t,s,i=[],r=this.get("autosuggestItems")||{},o=this.get("searchQuery")||"";if(o)for(t=0;t<a.length;t++)if(e=a[t],r.hasOwnProperty(e.key)&&r[e.key].length)for(i.push(this.buildSectionHeaderItem(e.headerTemplate,o,!0)),s=0;s<Math.min(3,r[e.key].length);s++)i.push(this.buildAutosuggestListItem(r[e.key][s],e.key,o));else e.headerTemplate&&i.push(this.buildSectionHeaderItem(e.headerTemplate,o,!1));i.length?(i[0].selected=!0,this.fire("subviewViewEvent","autosuggest-has-items")):this.fire("subviewViewEvent","autosuggest-no-items"),this.set("autosuggestItemsList",i)},buildSectionHeaderItem:function(e,t,s){var a={header:!0};return e?(a.iconClass="icon-search",e.searchLink&&(a.subtitle=this.intlMessage({intlName:e.searchLink.textIntlKey}),a.url=this.get("searchUrl").clone().createNewSearch(t).setSearchType(e.searchLink.searchType).getURL(),a.iconClass=e.searchLink.iconClass,a.rapidType=e.searchLink.rapidType)):a.empty=!0,a},buildAutosuggestListItem:function(t,s,a){var i,r,o={item:!0};return o.title=t.title||"",o.subtitle=t.subtitle||"",o.rapidType=s,o.titleHighlights=e.AutosuggestDataManager.locateQuery(a,o.title),o.subtitleHighlights=e.AutosuggestDataManager.locateQuery(a,o.subtitle),"pages"===s?(o.url=t.url||"",o.iconClass="icon-docs"):(i="groups"===s?"groups":"photos",(r=t.pathalias||t.nsid)&&(o.url="/"+i+"/"+r),t.nsid&&(t.iconserver||0===t.iconserver)&&(o.avatar={type:"groups"===s?"group":"person",title:o.title,url:e.URLHelper.getBuddyIconURL(t.nsid,Math.ceil(t.iconserver/1e3),t.iconserver),personNsid:"people"===s&&t.nsid,groupNsid:"groups"===s&&t.nsid})),o},handleAutosuggestListItemBlur:function(t){var s,a=this;setTimeout(function(){(s=e.one(e.config.doc.activeElement)).hasClass("autosuggest-selectable-item")||a.fire("subviewViewEvent","autosuggest-lost-all-focus")},25)},handleAutosuggestListItemClick:function(e){this.navigateFromAutosuggestListNode(e.currentTarget)},handleAutosuggestListItemKeydown:function(t){var s="";if(t.halt(),!0===t.altKey)e.fire("transfer-to-gn-search",s);else if(t.keyCode>=48&&t.keyCode<=90)s=String.fromCharCode(t.keyCode),s=!0===t.shiftKey?s.toUpperCase():s.toLowerCase(),e.fire("transfer-to-gn-search",s);else switch(t.keyCode){case 8:this.fire("subviewViewEvent","backspace-focus");break;case 13:this.navigateFromAutosuggestListNode(t.target);break;case 27:this.blurAllAutosuggestListNodes();break;case 38:this.doKeyboardNav("up",!1);break;case 40:this.doKeyboardNav("down",!1)}},navigateFromAutosuggestListNode:function(t){var s,a,i;t&&(s=t.getData("href"),a=t.getData("title"),i=t.getData("track")),a&&this.fire("subviewViewEvent","autosuggest-update-field",a),s&&(e.rapidTracker.beacon(this.name,i),this.updateAutosuggestItems(),this.appContext.flapp.navigate(s))},blurAllAutosuggestListNodes:function(){var e=this.get("container").all(".autosuggest-selectable-item");(e?e.size():0)&&e.each(function(e){e.blur()})},doKeyboardNav:function(e,t){var s,a=this.get("container").all(".autosuggest-selectable-item"),i=a?a.size():0,r=-1;i&&((s=this.get("container").one(".autosuggest-selectable-item.selected"))&&(r=a.indexOf(s)),a.removeClass("selected"),(r="up"===e?r-1:r+1)>=0&&r<i?((s=a.item(r)).addClass("selected"),s.focus()):t?(r=r<0?i-1:0,(s=a.item(r)).addClass("selected"),s.focus()):this.fire("subviewViewEvent","focus-search-field"))},handleAutosuggestListItemHoverOn:function(e){var t=this.get("container").one(".autosuggest-selectable-item.selected"),s=e.target;t&&t.removeClass("selected"),s.addClass("selected"),s.focus()},destructor:function(){this.processTimeout&&clearTimeout(this.processTimeout)}})},"@VERSION@",{requires:["flickr-view","flickr-promise","hermes-template-search-autosuggest-items-list","hermes-template-search-autosuggest-list-item","autosuggest-data-manager","search-url","url-helper"],langBundles:["search"]});YUI.add("search-autosuggest-field-view",function(e){e.namespace("Views")[this.name]=e.Base.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){var s=this.appContext.getLocation();return this.set("searchUrl",new e.SearchUrl(s.href,this.appContext)),this.set("siteSection",e.URLHelper.getSiteSectionByURL(s.pathname)),this.set("contextToString",{photos:this.intlMessage({intlName:"groups.PHOTOS"}),photostream:this.intlMessage({intlName:"groups.PHOTOS"}),favorites:this.intlMessage({intlName:"common.FAVORITES"}),faves:this.intlMessage({intlName:"common.FAVORITES"}),albums:this.intlMessage({intlName:"common.ALBUMS"}),everyone:this.intlMessage({intlName:"search.EVERYONE"}),contacts:this.intlMessage({intlName:"search.PEOPLE_YOU_FOLLOW"}),peopleYouFollow:this.intlMessage({intlName:"search.PEOPLE_YOU_FOLLOW"}),discussions:this.intlMessage({intlName:"groups.DISCUSSIONS_LINK_LABEL"})}),this.isSOHP=t.isSOHP,this},subviewConfig:{"search-autosuggest-items-list-view":{requiredToShowOnClient:!1,requiredToShowOnServer:!1,disabled:function(){return this.appContext.getUA().isMobileOrTablet}}},loadState:function(){return this.getContextModelPromise()},buildContainer:function(){var e=this.get("context"),t=this.get("searchUrl").getSearchTerm(),s=[];return e&&e.type&&s.push({combo:!0,name:e.name,secondName:this.get("contextToString")[e.scope]}),this.setContainerWithTemplate("search-autosuggest-field",{searchTerm:t,pills:s,hasPills:s.length>0}),(s.length>0||t.length>0)&&this.get("container").addClass("expanded"),this},activate:function(){var t=this.get("container"),s=t.one("#search-field");t.one(".search-form");this.appContext.getViewer().prefs&&this.appContext.getViewer().prefs.keyboardShortcutsEnabled&&this.attachKeyEvent("up:83",this.focusSearchField.bind(this)),t.one("form")&&this.registerEventHandler(t.one("form").on("submit",this.executeSearch.bind(this))),this.registerEventHandler(e.on("add-context-to-search-field",this.addContext.bind(this))),this.registerEventHandler(e.on("transfer-to-gn-search",this.addSearchText.bind(this))),this.registerEventHandler(t.on("mousedown",this.handleMouseDown.bind(this))),this.registerEventHandler(s.on({valuechange:this.updateAutosuggestItems.bind(this),focus:this.handleSearchFieldFocus.bind(this),blur:this.handleSearchFieldBlur.bind(this)})),this.registerEventHandler(s.on("key",this.handleSearchFieldKeydown.bind(this),"down:27,38,40,8"));try{e.config.doc.activeElement.isEqualNode(s.getDOMNode())&&(this.blurSearchField(),this.focusSearchField())}catch(e){}return this},getContextModelPromise:function(){var t=this.get("searchUrl").getAPIParams(),s=e.Promise.resolve(),a=null,i=this;return t[e.SearchHelper.API.groupId]?(a={type:"group",id:t[e.SearchHelper.API.groupId],scope:"photos"},s=this.appContext.getModel("group-info-models",a.id)):t[e.SearchHelper.API.userId]?(a={type:"user",id:t[e.SearchHelper.API.userId],scope:t[e.SearchHelper.API.faves]?"favorites":"photostream"},t[e.SearchHelper.API.faves]?a.scope="favorites":t[e.SearchHelper.UNIFIED_STATE_PARAMS.albums]?a.scope="albums":a.scope="photostream",s=this.appContext.getModel("person-models",a.id)):t[e.SearchHelper.API.faves]?(a={type:"user",id:this.appContext.getViewer().nsid,scope:"favorites"},s=this.appContext.getModel("person-models",a.id)):t[e.SearchHelper.API.contacts]?a={type:"contacts",scope:"photos",name:this.get("contextToString").contacts}:t[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]&&(a={type:"everyone",scope:"photos",name:this.get("contextToString").everyone}),s.then(function(e){e&&(a.name="user"===a.type?e.getValue("displayname"):e.getValue("group").getValue("title")),i.set("context",a)})},handleMouseDown:function(e){var t=e.target;1===e.which&&(t.hasClass("search-pill-remover")?(e.halt(),this.removeContext()):t.hasClass("search-icon-button")?(e.halt(),this.executeSearch(e)):(t.hasClass("search-pill")||t.hasClass("search-pillbox")||t.hasClass("search-form"))&&(e.halt(),this.focusSearchField()))},addSearchText:function(e){var t=this.get("container").one("#search-field");t.set("value",t.get("value")+e),this.focusSearchField()},addPill:function(t,s){var a,i={name:t};s&&(i.combo=!0,i.secondName=s),a=e.Node.create(this.templates("search-pill")(i)),this.get("container").one(".search-pillbox").appendChild(a)},removePills:function(){this.get("container").one(".search-pillbox").get("children").remove()},addContext:function(t){var s=this.get("context");s&&s.id===t.id&&s.name===t.name&&s.type===t.type&&s.scope===t.scope||(s&&s.type?(this.removeContext(),this.set("context",t),this.addPill(t.name,this.get("contextToString")[t.scope])):(this.set("context",t),this.addPill(t.name,this.get("contextToString")[t.scope]))),this.fire("parentViewEvent","disable-autosuggest"),this.get("container").one("#search-field").set("placeholder",""),this.focusSearchField(),e.rapidTracker.beacon(this.name,"searchAddContext_"+t.type+"_"+t.scope)},removeContext:function(){var t=this.get("container"),s=t.one("#search-field");this.set("context",null),s.set("placeholder",this.intlMessage({intlName:"search.PHOTOS_PEOPLE_OR_GROUPS"})),this.removePills(),this.blurSearchBar(),e.fire("remove-context-in-search-field",{}),e.rapidTracker.beacon(this.name,"searchRemoveContext"),this.get("siteSection")&&"search"===this.get("siteSection").name&&s.get("value").length>0?this.executeSearch():(this.updateAutosuggestItems(),t.hasClass("expanded")&&(this.fire("parentViewEvent","enable-autosuggest"),this.firstAutosuggestView||(e.rapidTracker.beacon(this.name,"autosuggestShow"),this.firstAutosuggestView=!0)))},onParentViewEvent:function(e,t){switch(t&&t.length&&t[0]){case"resize-search-field":this.resizeSearchField(t[1]);break;case"focus-search-field":this.focusSearchField();break;case"clear-search-field":this.clearSearchField()}},onSubviewEvent:function(e,t){var s,a,i=t&&t.length&&t[0],r=this.get("container");switch(i){case"autosuggest-lost-all-focus":this.handleAutosuggestBlur();break;case"focus-search-field":this.focusSearchField();break;case"autosuggest-no-items":r.removeClass("autosuggest-active");break;case"autosuggest-has-items":r.addClass("autosuggest-active");break;case"autosuggest-update-field":(a=r.one("#search-field"))&&"string"==typeof t[1]&&a.set("value",t[1]);break;case"backspace-focus":(a=r.one("#search-field"))&&(s=a.get("value"),a.set("value",s.substring(0,s.length-1)),this.focusSearchField())}},executeSearch:function(t){var s,a,i,r={};t&&t.halt(),s=this.get("container").one("#search-field").get("value"),(i=this.get("context"))&&i.type?("group"===i.type&&"discussions"===i.scope?(r.q=s,r.w=i.id,r.m="discuss",a=new e.SearchUrl(r,this.appContext,e.SearchUrl.searchTypes.CLASSIC_GROUPS)):("user"===i.type?(r[e.SearchHelper.API.userId]=i.id,"favorites"===i.scope?r[e.SearchHelper.API.faves]=1:"albums"===i.scope?r[e.SearchHelper.UNIFIED_STATE_PARAMS.albums]=1:r[e.SearchHelper.API.userId]=i.id):"group"===i.type?r[e.SearchHelper.API.groupId]=i.id:"contacts"===i.type?r[e.SearchHelper.API.contacts]="all":i.type,r[e.SearchHelper.UNIFIED_STATE_PARAMS.viewAll]=1,a=this.get("searchUrl"),Object.keys(r).forEach(function(e){a.setAPIParam(e,r[e])}),a.setSearchType(e.SearchUrl.searchTypes.PHOTOS),a.setSearchTerm(s)),e.rapidTracker.beacon(this.name,"searchWithContext_"+i.type+"_"+i.scope)):(a=this.get("searchUrl")).createNewSearch(s),this.appContext.flapp.navigate(a.getURL())},focusSearchField:function(t){e.OverlayManager.DroparoundOverlay.closeAll(),this.get("container").one("#search-field").focus()},blurSearchField:function(e){this.get("container").one("#search-field").blur()},resizeSearchField:function(e){e?(this.get("container").setStyle("width",e+"px"),this.get("container").one("#search-field").setStyle("width",e+"px")):(this.get("container").removeAttribute("style"),this.get("container").one("#search-field").removeAttribute("style"))},clearSearchField:function(e){this.get("container").one("#search-field").set("value","")},updateAutosuggestItems:function(e){var t=this.get("container").one("#search-field").get("value");e&&e.halt(),this.get("context")||this.fire("parentViewEvent","update-autosuggest-items",t)},handleSearchFieldFocus:function(t){var s,a=this.get("container"),i=a.one(".search-form"),r=this;t.halt(),a.hasClass("focus")||(a.addClass("focus"),a.addClass("expanded"),this.expandTimer&&clearTimeout(this.expandTimer),this.get("context")||(s=this.registerEventHandler(i.on("transitionend",function(){r.detachRegisteredEvent(s),r.updateAutosuggestItems(),a.hasClass("expanded")&&(r.fire("parentViewEvent","enable-autosuggest"),r.firstAutosuggestView||(e.rapidTracker.beacon(r.name,"autosuggestShow"),r.firstAutosuggestView=!0))}))))},blurSearchBar:function(){clearTimeout(this.expandTimer),this.expandTimer=setTimeout(function(){var t=this.get("container"),s=this.get("context");e.one(e.config.doc.activeElement).hasClass("autosuggest-selectable-item")||(t.removeClass("focus"),t.removeClass("autosuggest-active"),s&&s.type||0!==t.one("#search-field").get("value").length||t.removeClass("expanded"),this.fire("parentViewEvent","disable-autosuggest"))}.bind(this),150)},handleSearchFieldBlur:function(e){e.halt(),e.relatedTarget&&e.relatedTarget.hasClass("search-icon-button")?this.executeSearch():this.blurSearchBar()},handleAutosuggestBlur:function(){this.blurSearchBar()},handleSearchFieldKeydown:function(t){var s=t.keyCode,a=t.target;switch(s){case 27:t.halt(),this.blurSearchField();break;case 38:t.halt(),this.fire("parentViewEvent","autosuggest-keyboard-nav","up");break;case 40:t.halt(),this.fire("parentViewEvent","autosuggest-keyboard-nav","down");break;case 8:0===e.fluid.getTextFieldCursorPosition(a)&&""===e.fluid.getTextFieldSelection()&&this.removeContext()}},destructor:function(){clearTimeout(this.expandTimer),this.expandTimer=null}})},"@VERSION@",{requires:["flickr-view","flickr-promise","hermes-template-search-autosuggest-field","hermes-template-search-pill","search-url","autosuggest-context-results-models","storage-helper","search-autosuggest-items-list-view","url-helper"],optionalRequires:["fluid"],langBundles:["search","common","groups"]});YUI.add("hermes-template-notifications-menu",function(n,a){var e=n.Template.Handlebars.revive({1:function(n,a,e,t,i){var s;return n.escapeExpression("function"==typeof(s=null!=(s=e.unseenNotificationCount||(null!=a?a.unseenNotificationCount:a))?s:e.helperMissing)?s.call(null!=a?a:{},{name:"unseenNotificationCount",hash:{},data:i}):s)},compiler:[7,">= 4.0.0"],main:function(n,a,e,t,i){var s,l=null!=a?a:{};return'<a class="gn-title c-notifications-menu"\n\ttabindex="0"\n\taria-haspopup="true"\n\taria-expanded="false"\n\taria-label="'+n.escapeExpression((e.intlMessage||a&&a.intlMessage||e.helperMissing).call(l,{name:"intlMessage",hash:{intlName:"notifications.NOTIFICATIONS"},data:i}))+'">\n\t<span class="c-notification-icon" aria-hidden="true">\n\t\t<span class="c-notification-unseencount hidden">'+(null!=(s=e.if.call(l,null!=a?a.unseenNotificationCount:a,{name:"if",hash:{},fn:n.program(1,i,0),inverse:n.noop,data:i}))?s:"")+"</span>\n\t</span>\n</a>\n"},useData:!0}),t={};n.Array.each([],function(a){var e=n.Template.get("hermes/"+a);e&&(t[a]=e)}),n.Template.register("hermes/notifications-menu",function(a,i){return i=i||{},i.partials=i.partials?n.merge(t,i.partials):t,e(a,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-notifications",function(a,e){var t=a.Template.Handlebars.revive({1:function(a,e,t,l,n){return"\t\t<li>\n\t\t\t"+a.escapeExpression(a.lambda(e,e))+"\n\t\t</li>\n"},compiler:[7,">= 4.0.0"],main:function(a,e,t,l,n){var i,s,o=null!=e?e:{},h=t.helperMissing,r="function",c=a.escapeExpression;return'<div class="notifications-container" style="width: '+c(typeof(s=null!=(s=t.width||(null!=e?e.width:e))?s:h)===r?s.call(o,{name:"width",hash:{},data:n}):s)+"; height: "+c(typeof(s=null!=(s=t.height||(null!=e?e.height:e))?s:h)===r?s.call(o,{name:"height",hash:{},data:n}):s)+"; overflow-x: "+c(typeof(s=null!=(s=t.overflowX||(null!=e?e.overflowX:e))?s:h)===r?s.call(o,{name:"overflowX",hash:{},data:n}):s)+"; overflow-y: "+c(typeof(s=null!=(s=t.overflowY||(null!=e?e.overflowY:e))?s:h)===r?s.call(o,{name:"overflowY",hash:{},data:n}):s)+';">\n\t<header>\n\t\t<h2>'+c((t.intlMessage||e&&e.intlMessage||h).call(o,{name:"intlMessage",hash:{intlName:"notifications.NOTIFICATIONS"},data:n}))+'</h2>\n\t\t<a href="/mail" class="mail-icon">'+c((t.intlMessage||e&&e.intlMessage||h).call(o,{name:"intlMessage",hash:{intlName:"common.FLICKRMAIL"},data:n}))+' <span class="flickr-mail-count"></span></a>\n\t</header>\n\t<ul class="notifications-list" style="max-height: '+c(typeof(s=null!=(s=t.listHeight||(null!=e?e.listHeight:e))?s:h)===r?s.call(o,{name:"listHeight",hash:{},data:n}):s)+';">\n\t\t<li class="notifications-empty-state hidden">\n\t\t\t'+c((t.intlMessage||e&&e.intlMessage||h).call(o,{name:"intlMessage",hash:{intlName:"notifications.NOTIF_NOTHING_HERE"},data:n}))+"\n\t\t</li>\n"+(null!=(i=t.each.call(o,null!=e?e.notifications:e,{name:"each",hash:{},fn:a.program(1,n,0),inverse:a.noop,data:n}))?i:"")+'\t</ul>\n\n\t<a href="/activity" class="view-all">'+c((t.intlMessage||e&&e.intlMessage||h).call(o,{name:"intlMessage",hash:{intlName:"notifications.NOTIF_VIEW_RECENT_ACTIVITY"},data:n}))+"</a>\n</div>"},useData:!0}),l={};a.Array.each([],function(e){var t=a.Template.get("hermes/"+e);t&&(l[e]=t)}),a.Template.register("hermes/notifications",function(e,n){return n=n||{},n.partials=n.partials?a.merge(l,n.partials):l,t(e,n)})},"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("contact-models",function(e){"use strict";function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{pathAlias:{validator:function(t,r){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)||void 0},defaultFn:function(e){return e}},username:{validator:function(t,r){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},realname:{validator:function(t,r){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},displayname:{readOnly:!0,derivedBy:["username","realname"],getter:function(e,t){return this.getValue(t,"realname")||this.getValue(t,"username")}},iconfarm:{},iconserver:{},buddyicon:{readOnly:!0,derivedBy:["iconfarm","iconserver","nsid"],getter:function(t,r){var n=this.getValue(r,"iconfarm"),i=this.getValue(r,"iconserver"),a=this.getValue(r,"nsid");return e.URLHelper.getBuddyIconURL(a,n,i)}},nsid:{readOnly:!0,defaultFn:function(e){return e}},isMe:{readOnly:!0,defaultFn:function(e){var t=this.appContext.getViewer();return t.signedIn&&t.nsid===e}},isPro:{defaultValue:!1,setter:function(t){return e.AttributeHelpers.coerceBoolean(t)}},profileURL:{readOnly:!0,derivedBy:["pathAlias","nsid"],defaultFn:function(e){var t=this.getValue(e,"pathAlias");return t||(t=e),"/photos/"+t}},followsURL:{readOnly:!0,derivedBy:["pathAlias","nsid"],defaultFn:function(e){var t=this.getValue(e,"pathAlias");return t||(t=e),"/people/"+t+"/contacts"}}}})},"@VERSION@",{requires:["flickr-model-registry","attribute-helpers","url-helper"]});YUI.add("notification-group-discussion-models",function(r){function e(r){e.superclass.constructor.call(this,r)}r.Models[this.name]=e,r.extend(e,r.FlickrModelRegistry,{name:this.name,parseDiscussionModel:function(e,o,i,s){return{id:e,pathAlias:o,title:i.name,replyCount:i.replies,groupID:i.group_id,groupName:i.groupName,iconUrls:r.APIHelper.response.agnosticizeFarmPathTransferProtocol(i.iconurls),coverPhotoUrls:r.APIHelper.response.agnosticizeFarmPathTransferProtocol(i.coverphoto_url),group:s}},attributes:{id:{},pathAlias:{},title:{},replyCount:{},groupID:{},groupName:{},iconUrls:{},coverPhotoUrls:{},url:{readOnly:!0,derivedBy:["id","groupID"],defaultFn:function(r){return"/groups/"+this.getValue(r,"groupID")+"/discuss/"+r}},groupUrl:{readOnly:!0,derivedBy:["id","groupID"],defaultFn:function(r){return"/groups/"+this.getValue(r,"groupID")}},group:{isModel:!0}}})},"@VERSION@",{requires:["flickr-model-registry"]});YUI.add("notification-gallery-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,parseGalleryModel:function(t){return{id:t.id,pathAlias:t.pathalias,title:t.title._content,iconUrls:e.APIHelper.response.agnosticizeFarmPathTransferProtocol(t.iconurls),owner:{id:t.owner,username:t.ownername,displayname:t.realname}}},attributes:{id:{},title:{},pathAlias:{},url:{readOnly:!0,derivedBy:["id","owner","pathAlias"],defaultFn:function(e){return"/photos/"+(this.getValue(e,"pathAlias")||this.getValue(e,"owner").id)+"/galleries/"+e}},iconUrls:{},owner:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});YUI.add("notification-flickrmail-models",function(i){function e(i){e.superclass.constructor.call(this,i)}i.Models[this.name]=e,i.extend(e,i.FlickrModelRegistry,{name:this.name,parseFlickrMailModel:function(i){return{id:i.id,isMuted:i.is_muted}},attributes:{id:{},isMuted:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});YUI.add("notification-event-fave-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{id:{},type:{},owner:{isModel:!0},timestamp:{}}})},"@VERSION@",{requires:["flickr-model-registry"]});